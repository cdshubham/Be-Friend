<!DOCTYPE html>
<html>
  <head>
    <title>Slide Navbar</title>
    <link rel="stylesheet" type="text/css" href="login.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="enter.png" type="image/x-icon" />
  </head>
  <body>
    <div class="main">
      <input type="checkbox" id="chk" aria-hidden="true" />

      <div class="signup">
        <form>
          <label for="chk" aria-hidden="true">Sign up</label>
          <input type="text" name="txt" placeholder="User name" required id="username"  />
          <input type="email" name="email" placeholder="Email" required id="useremail" />
          <input
            type="password"
            name="pswd"
            placeholder="Password"
            required
            id="userpassword"
          />
          <button id="submit">Sign up</button>
        </form>
      </div>

      <div class="login">
        <form>
          <label for="chk" aria-hidden="true">Login</label>
          <input type="email" name="email" placeholder="Email" required="" />
          <input
            type="password"
            name="pswd"
            placeholder="Password"
            required=""
          />
          <button>Login</button>
        </form>
      </div>
    </div>
    <script>
      const submitButton = document.getElementById("submit");

      submitButton.addEventListener("click",async function (event) {
        event.preventDefault(); // Prevent the form from submitting

        //grabbing data
        const username=document.querySelector("#username").value
        const useremail=document.querySelector("#useremail").value
        const userpassword=document.querySelector("#userpassword").value

        let payload={
          name:username,
          email:useremail,
          password:userpassword
        }

        console.log(payload)
        
        const result=await fetch("http://127.0.0.1:10000/signup",{
          method:"POST",
          headers:{
            "Content-type":"application/json"
          },
          body:payload
        })
        
        console.log(result)

        // Redirect to the desired URL when the button is clicked
        // window.location.href = "QnA.html"; // Change this URL to your desired destination
      });
    </script>
  </body>
</html>
