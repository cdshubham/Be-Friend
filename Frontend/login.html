<!DOCTYPE html>
<html>
  <head>
    <title>Slide Navbar</title>
    <link rel="stylesheet" type="text/css" href="login.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="enter.png" type="image/x-icon" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  </head>
  <body>
    <div class="main">
      <input type="checkbox" id="chk" aria-hidden="true" />

      <div class="signup">
        <form>
          <label for="chk" aria-hidden="true">Sign up</label>
          <input type="text" name="txt" placeholder="User name" required id="username"  />
          <input type="email" name="email" placeholder="Email" required id="useremail" />
          <input
            type="password"
            name="pswd"
            placeholder="Password"
            required
            id="userpassword"
          />
          <button id="submit">Sign up</button>
        </form>
      </div>

      <div class="login">
        <form>
          <label for="chk" aria-hidden="true">Login</label>
          <input type="email" name="email" placeholder="Email" required id="useremail1" />
          <input
            type="password"
            name="pswd"
            placeholder="Password"
            required
            id="userpassword1"
          />
          <button class="loginButton">Login</button>
        </form>
      </div>
    </div>
    <script>
      const submitButton = document.getElementById("submit");

      submitButton.addEventListener("click",async function (event) {
        event.preventDefault(); // Prevent the form from submitting

        //grabbing data
        const username=document.querySelector("#username").value
        const useremail=document.querySelector("#useremail").value
        const userpassword=document.querySelector("#userpassword").value

        let payload={
          name:username,
          email:useremail,
          password:userpassword
        }

        console.log(payload)
        
        const result=await axios.post("http://127.0.0.1:10000/signup",payload,{
        headers: {
        "Content-Type": "application/json"
        }})
        
        console.log(result)

        // Redirect to the desired URL when the button is clicked
        // window.location.href = "QnA.html"; // Change this URL to your desired destination
      });

      const loginButton=document.querySelector(".loginButton")

      loginButton.addEventListener("click",async function (){
        

        console.log("Hello")
        const useremail=document.querySelector("#useremail1").value
        const userpassword=document.querySelector("#userpassword1").value

        let payload={
          email:useremail,
          password:userpassword
        }


        console.log(payload)
        
        const result=await axios.post("http://127.0.0.1:10000/signin",payload,{
        headers: {
        "Content-Type": "application/json"
        }})
        
        console.log(result)
      })
    </script>
  </body>
</html>
